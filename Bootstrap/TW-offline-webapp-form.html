<!doctype html>
<html>
<head>
	<meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
	<title>Form</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
<script src="js/bootstrap.min.js" ></script>


</head>
<body class="container" style="margin-top:10%" onload="showRecords()" background="https://img.freepik.com/free-vector/abstract-paper-hexagon-white-background_51543-7.jpg?size=338&ext=jpg">
	<H1>Your Info</H1><br>
	<form id="frmLocalStorage" name="frmLocalStorage"  onsubmit="addRecord();">
		<div class="form-group">
				<label for="exampleInputPassword1">Name</label>
				<input type="text" class="form-control" id="txtFirstName" placeholder="Name" required="required">
			</div><br>
		<div class="form-group">
		  <label for="exampleInputEmail1" >Email</label>
		  <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email" required="required">
		  <small id="emailHelp" class="form-text text-muted"></small>
		</div><br>

		<input type="submit" class="btn btn-primary" value="Submit"/>
		<div style="margin-top:10%">
		<h3>Available Records</h3>
		<p id="recordList"></p>
	</div>
	  </form>

<script>


function addRecord()
	{
		alert("Thank You !!!");
		// Array |JSON Format
		var entry={};
		//Primary Key
		entry.id=localStorage.length+1;
		//value
		entry.firstName=document.frmLocalStorage.txtFirstName.value;
		entry.email=document.frmLocalStorage.email.value;
		//Store
		localStorage.setItem(entry.id,JSON.stringify(entry));
	}
	function showRecords()
	{
	var sOutput="No record to display";
	console.log(localStorage.length)
	if(localStorage.length>0)
	{
	sOutput="<ul>";
	for (iCounter=0;iCounter<localStorage.length;iCounter++)
		{
		key=localStorage.key(iCounter);
		var jsonElemen=JSON.parse(localStorage.getItem(key));
		sOutput+="<li> <b>Name</b> : "+jsonElemen.firstName+" ";
		sOutput+="  <b>Email</b>: "+jsonElemen.email+"";
		sOutput+="</li>";
		}
	sOutput+="</ul>";
	}
	else
	{
	var sOutput="No record to display";
	}
	document.getElementById("recordList").innerHTML=sOutput;

	}

</script>
</body>
</html>
